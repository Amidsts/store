{"version":3,"file":"paginate.js","sourceRoot":"src/","sources":["utils/paginate.ts"],"names":[],"mappings":";;AAEA,MAAM,cAAc,GAAG,CAAC,GAAa,EAAE,EAAE;IACvC,IAAI,IAAI,GAAW,MAAM,CAAC,GAAG,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;IAE1C,IAAI,QAAQ,GAAW,EAAE,CAAC;IAE1B,MAAM,iBAAiB,GAAG;QACxB,IAAI,EAAE,EAAE,GAAG,EAAE,CAAC,CAAC,EAAE;QACjB,IAAI,EAAE,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,QAAQ,CAAC,CAAC,CAAC,CAAC;QAC3C,KAAK,EAAE,QAAQ;KAChB,CAAC;IAEF,MAAM,IAAI,GAAG,CAAC,KAAa,EAAE,EAAE;QAC7B,MAAM,UAAU,GAAW,IAAI,CAAC,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,CAAC;QACvD,MAAM,QAAQ,GAAG,IAAI,GAAG,CAAC,IAAI,UAAU,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QAC1D,MAAM,QAAQ,GAAG,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QAE5C,OAAO,EAAE,UAAU,EAAE,QAAQ,EAAE,QAAQ,EAAE,CAAC;IAC5C,CAAC,CAAC;IAEF,OAAO;QACL,iBAAiB;QACjB,IAAI;KACL,CAAC;AACJ,CAAC,CAAC;AAEF,kBAAe,cAAc,CAAC","sourcesContent":["import { IRequest } from \"./types\";\n\nconst handlePaginate = (req: IRequest) => {\n  let page: number = Number(req.query.page);\n\n  let per_page: number = 10;\n\n  const paginationOptions = {\n    sort: { _id: -1 },\n    skip: page >= 1 ? (page - 1) * per_page : 0,\n    limit: per_page,\n  };\n\n  const meta = (count: number) => {\n    const totalPages: number = Math.ceil(count / per_page);\n    const nextPage = page + 1 <= totalPages ? page + 1 : null;\n    const prevPage = page > 1 ? page - 1 : null;\n\n    return { totalPages, nextPage, prevPage };\n  };\n\n  return {\n    paginationOptions,\n    meta,\n  };\n};\n\nexport default handlePaginate;\n"]}