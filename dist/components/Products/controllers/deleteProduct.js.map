{"version":3,"file":"deleteProduct.js","sourceRoot":"src/","sources":["components/Products/controllers/deleteProduct.ts"],"names":[],"mappings":";;;;;;;;;;;;;;AACA,sDAA0D;AAI1D,qEAA4C;AAE5C,SAAe,aAAa,CAAC,GAAa,EAAE,GAAa;;QACvD,MAAM,EAAE,IAAI,EAAE,GAAG,GAAG,CAAC;QACrB,MAAM,EAAE,SAAS,EAAE,GAAwC,GAAG,CAAC,MAAM,CAAC;QAEtE,IAAI,CAAC;YACH,MAAM,aAAa,GAAG,MAAM,uBAAY,CAAC,gBAAgB,CAAC;gBACxD,GAAG,EAAE,SAAS;gBACd,IAAI,EAAE,IAAI,CAAC,GAAG;aACf,CAAC,CAAC;YAEH,IAAI,CAAC,aAAa,EAAE,CAAC;gBACnB,OAAO,IAAA,0BAAe,EAAC;oBACrB,GAAG;oBACH,OAAO,EAAE,6BAA6B;iBACvC,CAAC,CAAC;YACL,CAAC;YAED,OAAO,IAAA,0BAAe,EAAC;gBACrB,GAAG;gBACH,OAAO,EAAE,8BAA8B;aACxC,CAAC,CAAC;QACL,CAAC;QAAC,OAAO,GAAG,EAAE,CAAC;YACb,IAAA,0BAAe,EAAC;gBACd,GAAG;gBACH,GAAG;gBACH,OAAO,EAAE,uBAAuB;gBAChC,MAAM,EAAE,GAAG;aACZ,CAAC,CAAC;QACL,CAAC;IACH,CAAC;CAAA;AAED,kBAAe,aAAa,CAAC","sourcesContent":["import { Response } from \"express\";\nimport { responseHandler } from \"../../../utils/response\";\nimport { IRequest } from \"../../../utils/types\";\nimport { z } from \"zod\";\nimport { deleteProductSchema } from \"../product.validators\";\nimport ProductModel from \"../product.model\";\n\nasync function deleteProduct(req: IRequest, res: Response) {\n  const { user } = req;\n  const { productId }: z.infer<typeof deleteProductSchema> = req.params;\n\n  try {\n    const deleteProduct = await ProductModel.findOneAndDelete({\n      _id: productId,\n      User: user._id,\n    });\n\n    if (!deleteProduct) {\n      return responseHandler({\n        res,\n        message: \"this product does not exist\",\n      });\n    }\n\n    return responseHandler({\n      res,\n      message: \"product deleted successfully\",\n    });\n  } catch (err) {\n    responseHandler({\n      res,\n      err,\n      message: \"Internal Server Error\",\n      status: 500,\n    });\n  }\n}\n\nexport default deleteProduct;\n"]}